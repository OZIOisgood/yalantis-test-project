{"version":3,"sources":["components/main/main.js","img/loading.gif","components/employees/employees.js","components/employees/index.js","components/app/index.js","components/error-page/error-page.js","components/app/app.js","index.js"],"names":["Component","Employees","state","JSON","parse","sessionStorage","getItem","data","loading","bigLetters","monthNames","lang","requestStr","onChangeValue","bind","setItem","stringify","this","a","fetch","res","json","forEach","item","active","setState","e","newData","employee","find","value","id","target","name","updateData","className","src","loadingGIF","alt","employees","sort","b","nameA","firstName","toLowerCase","nameB","elements","character","filteredEmployees","filter","length","push","employeesList","map","filteredEmployeesList","filteredEmployee","lastName","wrappedEmployee","style","color","type","checked","onChange","activeEmployees","lastnameA","lastnameB","monthElements","thisMonth","Date","now","toLocaleDateString","month","shift","filteredActiveEmployees","dob","activeEmployeesList","element","date","year","day","console","log","App","props","exact","path","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1bba5ab.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport  './main.sass'\n\nexport default class Main extends Component {\n    render() {\n        return (\n            <>\n                Main page\n                <hr />\n                <a href=\"/employees\">Go to Employees page</a>\n            </>\n        )\n    }\n}","export default __webpack_public_path__ + \"static/media/loading.c61ecb2f.gif\";","import React, { Component } from \"react\";\n\nimport \"./employees.sass\";\n\nimport loadingGIF from \"../../img/loading.gif\";\n\nexport default class Employees extends Component {\n  constructor() {\n    super();\n    this.state = JSON.parse(sessionStorage.getItem('state')) || {\n      data: [],\n      loading: true,\n      bigLetters: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\",\n      monthNames: [\n        \"December\",\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n      ],\n      lang: \"us-US\",\n      requestStr: \"/task0/users\",\n    };\n\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  setState(state) {\n    super.setState(state);\n    sessionStorage.setItem('state', JSON.stringify(this.state));\n  }\n\n  async updateData(requestStr) {\n    const urlBase = `https://yalantis-react-school-api.yalantis.com/api`;\n\n    const res = await fetch(`${urlBase}${requestStr}`);\n    let data = await res.json();\n\n    data.forEach((item) => (item.active = false));\n\n    this.setState({\n      data,\n      loading: false\n    });\n  }\n\n  onChangeValue(e) {\n    let newData = this.state.data;\n\n    let employee = newData.find((value) => value.id === e.target.name);\n    employee.active = !employee.active;\n\n    this.setState({\n      data: newData\n    });\n  }\n\n  render() {\n    const { data, monthNames, bigLetters, lang, requestStr } = this.state;\n\n    if (this.state.loading) {\n      // Getting data from api by request string\n      this.updateData(requestStr);\n\n      // Show loading gif\n      return (\n        <div className=\"employeesBlock\">\n          <h1>Employees page</h1>\n  \n          <hr />\n          \n          <div className=\"loading-wrapper\">\n            <img src={loadingGIF} className=\"loading\" alt=\"Loading gif\" />\n          </div>\n        </div>\n      );\n    }\n\n    // Sorting employees by first letter of firstname\n    const employees = data.sort((a, b) => {\n      var nameA = a.firstName.toLowerCase(),\n        nameB = b.firstName.toLowerCase();\n\n      if (nameA < nameB) return -1;\n\n      if (nameA > nameB) return 1;\n\n      return 0;\n    });\n\n    // Making collection of characters with filteredEmployees\n    const elements = [];\n\n    for (let character of bigLetters) {\n      var filteredEmployees = employees.filter(\n        (employee) => character === employee.firstName[0]\n      );\n\n      if (filteredEmployees.length === 0) filteredEmployees = \"No Employees\";\n\n      elements.push({\n        character,\n        filteredEmployees,\n      });\n    }\n\n    // Making html of elements\n    const employeesList = elements.map((item) => {\n      const { character, filteredEmployees } = item;\n\n      const filteredEmployeesList = [];\n\n      if (filteredEmployees === \"No Employees\")\n        filteredEmployeesList.push(\n          <>\n            <h4 className=\"attention-color\">No Employees</h4>\n          </>\n        );\n      else\n        for (let filteredEmployee of filteredEmployees) {\n          const { firstName, lastName, id, active } = filteredEmployee;\n\n          const employee = <>{`${firstName} ${lastName}`}</>;\n\n          const wrappedEmployee = active ? (\n            <div style={{ color: \"#0075FF\" }}> {employee} </div>\n          ) : (\n            <> {employee} </>\n          );\n\n          filteredEmployeesList.push(\n            <div className=\"allEmployeesList-letterCard-employeesList-item\"\n              key={id}>\n              {wrappedEmployee}\n              <form>\n                <input\n                  type=\"radio\"\n                  value=\"not active\"\n                  name={id}\n                  checked={!active}\n                  onChange={this.onChangeValue}\n                />{\" \"}\n                not active <br />\n                <input\n                  type=\"radio\"\n                  value=\"active\"\n                  name={id}\n                  checked={active}\n                  onChange={this.onChangeValue}\n                />{\" \"}\n                active <br />\n                <br />\n              </form>\n            </div>\n          );\n        }\n\n      return (\n        <div className=\"allEmployeesList-letterCard\">\n          <h3>{character}</h3>\n          <div className=\"allEmployeesList-letterCard-employeesList\">\n            {filteredEmployeesList}\n          </div>\n        </div>\n      );\n    });\n\n    // Sorting active employees by lastname and filtering by month of birth\n    const activeEmployees = data\n      .sort((a, b) => {\n        var lastnameA = a.lastName.toLowerCase(),\n          lastnameB = b.lastName.toLowerCase();\n\n        if (lastnameA < lastnameB) return -1;\n\n        if (lastnameA > lastnameB) return 1;\n\n        return 0;\n      })\n      .filter((employee) => employee.active === true);\n\n    // Making collection of monthes with filteredActiveEmployees\n    const monthElements = [];\n\n    const thisMonth = new Date(Date.now()).toLocaleDateString(lang, {\n      month: \"long\",\n    });\n\n    // Sort moths from current month\n    while (monthNames[0] !== thisMonth) monthNames.push(monthNames.shift());\n\n    for (let month of monthNames) {\n      var filteredActiveEmployees = activeEmployees.filter((employee) => {\n        return (\n          month ===\n          new Date(Date.parse(employee.dob)).toLocaleDateString(\"us-US\", {\n            month: \"long\",\n          })\n        );\n      });\n\n      if (filteredActiveEmployees.length === 0)\n        filteredActiveEmployees = \"No Employees\";\n\n      monthElements.push({\n        month,\n        filteredActiveEmployees,\n      });\n    }\n\n    // Making html of elements\n    let activeEmployeesList = [];\n\n    if (\n      monthElements.filter(\n        (element) => element.filteredActiveEmployees === \"No Employees\"\n      ).length === monthElements.length\n    )\n      activeEmployeesList = (\n        <>\n          <h4 className=\"attention-color\">Employees List is empty</h4>\n        </>\n      );\n    else\n      activeEmployeesList = monthElements.map((item) => {\n        const { month, filteredActiveEmployees } = item;\n\n        const filteredEmployeesList = [];\n\n        if (filteredActiveEmployees === \"No Employees\")\n          filteredEmployeesList.push(\n            <>\n              <h4 className=\"attention-color\">No Employees</h4>\n            </>\n          );\n        else\n          for (let filteredEmployee of filteredActiveEmployees) {\n            const { firstName, lastName, dob, id } = filteredEmployee;\n            const date = new Date(Date.parse(dob));\n\n            const year = date.toLocaleDateString(lang, { year: \"numeric\" });\n            const month = date.toLocaleDateString(lang, { month: \"long\" });\n            const day = date.toLocaleDateString(lang, { day: \"2-digit\" });\n\n            filteredEmployeesList.push(\n              <li className=\"activeEmployeesList-monthCard-employeesList-item\"\n                key={id}>\n                {`${firstName} ${lastName} - ${day} ${month}, ${year} year`}\n              </li>\n            );\n          }\n\n        return (\n          <div className=\"activeEmployeesList-monthCard\">\n            <h3>{month}</h3>\n            <div className=\"activeEmployeesList-monthCard-employeesList\">\n              <ul>{filteredEmployeesList}</ul>\n            </div>\n          </div>\n        );\n      });\n\n    console.log(data)\n\n    return (\n      <div className=\"employeesBlock\">\n        <h1>Employees page</h1>\n\n        <hr />\n\n        <div className=\"allEmployeesList\">\n          <h2>Employees</h2>\n          <div className=\"letterCards-wrapper\">\n            {employeesList}\n          </div>\n        </div>\n\n        <div className=\"activeEmployeesList\">\n          <h2>Employees birthday</h2>\n          <div className=\"monthCard-wrapper\">\n            {activeEmployeesList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import Employees from './employees';\nexport default Employees;","import App from './app';\nexport default App;","import React, {Component} from 'react';\n\nimport  './error-page.sass'\n\nexport default class Main extends Component {\n    render() {\n        const {error, description} = this.props;\n\n        return (\n            <>\n                <h1>{error}</h1>\n                <hr/>\n                <p>{description}</p>\n            </>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Switch, useHistory, Redirect} from 'react-router-dom';\n\n\nimport Main from '../main';\nimport Employees from '../employees';\nimport ErrorPage from '../error-page';\n\n\nimport  './app.sass'\n\n\n\nexport default class App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n    }\n\n    render() {\n        return (\n            <Router>\n                {/* <h1>Logo</h1> */}\n                <div className=\"wrapper\">\n                    <main>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <Redirect to=\"/employees\"/>\n                                {/* <Main/> */}\n                            </Route>\n\n                            <Route exact path=\"/employees\">\n                                <Employees/>\n                            </Route>\n\n                            <Route path=\"*\">\n                                <Employees/>\n                                {/* <ErrorPage\n                                    error='Attention! An error was detected'\n                                    description='No page was found on the site at this address, or you do not have access to view information at this address.'\n                                /> */}\n                            </Route>\n                        </Switch>\n                    </main>\n                </div>\n            </Router>\n        );\n    }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router, Route, Switch, useHistory} from 'react-router-dom';\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}