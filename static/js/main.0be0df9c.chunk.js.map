{"version":3,"sources":["components/main/main.js","img/loading.gif","components/employees/employees.js","components/employees/index.js","components/app/index.js","components/error-page/error-page.js","components/app/app.js","index.js"],"names":["Component","Employees","onChangeValue","e","newDataLetter","state","dataLetter","newDataMonth","dataMonth","employeeLetter","find","value","id","target","name","active","employeeMonth","setState","JSON","parse","sessionStorage","getItem","loading","bigLetters","monthNames","lang","requestStr","setItem","stringify","this","a","fetch","res","json","data","forEach","item","console","log","updateData","className","src","loadingGIF","alt","employees","sort","b","nameA","firstName","toLowerCase","nameB","elements","character","filteredEmployees","filter","employee","length","push","employeesList","map","filteredEmployeesList","filteredEmployee","lastName","wrappedEmployee","style","color","type","checked","onChange","activeEmployees","lastnameA","lastnameB","monthElements","month","filteredActiveEmployees","Date","dob","toLocaleDateString","activeEmployeesList","element","date","year","day","App","props","exact","path","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0be0df9c.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nimport  './main.sass'\n\nexport default class Main extends Component {\n    render() {\n        return (\n            <>\n                Main page\n                <hr />\n                <a href=\"/employees\">Go to Employees page</a>\n            </>\n        )\n    }\n}","export default __webpack_public_path__ + \"static/media/loading.c61ecb2f.gif\";","import React, { Component } from \"react\";\n\nimport \"./employees.sass\";\n\nimport loadingGIF from \"../../img/loading.gif\";\n\nexport default class Employees extends Component {\n  constructor() {\n    super();\n    this.state = JSON.parse(sessionStorage.getItem('state')) || {\n      dataLetter: [],\n      dataMonth: [],\n      loading: true,\n      bigLetters: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\",\n      monthNames: [\n        \"December\",\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n      ],\n      lang: \"us-US\",\n      requestStr: \"/task0/users\",\n    };\n\n    // this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  setState(state) {\n    super.setState(state);\n    sessionStorage.setItem('state', JSON.stringify(this.state));\n  }\n\n  async updateData(requestStr) {\n    const urlBase = `https://yalantis-react-school-api.yalantis.com/api`;\n\n    const res = await fetch(`${urlBase}${requestStr}`);\n\n    let data = await res.json();\n    data.forEach((item) => (item.active = false));\n    console.log(data);\n    // let dataLetter = await res.json();\n    // let dataMonth = res.json();\n\n    // dataLetter.forEach((item) => (item.active = false));\n    // dataMonth.forEach((item) => (item.active = false));\n      let dataLetter = JSON.parse(JSON.stringify(data));\n      let dataMonth = JSON.parse(JSON.stringify(data));\n    this.setState({\n      dataLetter,\n      dataMonth,\n      loading: false\n    });\n  }\n\n  onChangeValue = (e) => {\n    let newDataLetter = this.state.dataLetter;\n    let newDataMonth = this.state.dataMonth;\n\n    let employeeLetter = newDataLetter.find((value) => value.id === e.target.name);\n    employeeLetter.active = !employeeLetter.active;\n\n    let employeeMonth = newDataMonth.find((value) => value.id === e.target.name);\n    employeeMonth.active = !employeeMonth.active;\n\n    this.setState({\n      dataLetter: newDataLetter,\n      dataMonth: newDataMonth\n    });\n  }\n\n  render() {\n    const { dataLetter, dataMonth, monthNames, bigLetters, lang, requestStr } = this.state;\n\n    // console.log(dataLetter);\n    // console.log(dataMonth);\n\n    if (this.state.loading) {\n      // Getting data from api by request string\n      this.updateData(requestStr);\n\n      // const thisMonth = new Date(Date.now()).toLocaleDateString(lang, {\n      //   month: \"long\",\n      // });\n\n      // // Sort moths from current month\n      // while (monthNames[0] !== thisMonth) monthNames.push(monthNames.shift());\n\n      // Show loading gif\n      return (\n        <div className=\"employeesBlock\">\n          <h1>Employees page</h1>\n  \n          <hr />\n          \n          <div className=\"loading-wrapper\">\n            <img src={loadingGIF} className=\"loading\" alt=\"Loading gif\" />\n          </div>\n        </div>\n      );\n    }\n\n    // Sorting employees by first letter of firstname\n    const employees = dataLetter.sort((a, b) => {\n      var nameA = a.firstName.toLowerCase(),\n        nameB = b.firstName.toLowerCase();\n\n      if (nameA < nameB) return -1;\n\n      if (nameA > nameB) return 1;\n\n      return 0;\n    });\n\n    // Making collection of characters with filteredEmployees\n    const elements = [];\n\n    for (let character of bigLetters) {\n      var filteredEmployees = employees.filter(\n        (employee) => character === employee.firstName[0]\n      );\n\n      if (filteredEmployees.length === 0) filteredEmployees = \"No Employees\";\n\n      elements.push({\n        character,\n        filteredEmployees,\n      });\n    }\n\n    // Making html of elements\n    const employeesList = elements.map((item) => {\n      const { character, filteredEmployees } = item;\n\n      const filteredEmployeesList = [];\n\n      if (filteredEmployees === \"No Employees\")\n        filteredEmployeesList.push(\n          <>\n            <h4 className=\"attention-color\">No Employees</h4>\n          </>\n        );\n      else\n        for (let filteredEmployee of filteredEmployees) {\n          const { firstName, lastName, id, active } = filteredEmployee;\n\n          const employee = <>{`${firstName} ${lastName}`}</>;\n\n          const wrappedEmployee = active ? (\n            <div style={{ color: \"#0075FF\" }}> {employee} </div>\n          ) : (\n            <> {employee} </>\n          );\n\n          filteredEmployeesList.push(\n            <div className=\"allEmployeesList-letterCard-employeesList-item\"\n              key={`letter-{id}`}>\n              {wrappedEmployee}\n              <form>\n                <input\n                  type=\"radio\"\n                  value=\"not active\"\n                  name={id}\n                  checked={!active}\n                  onChange={this.onChangeValue}\n                />{\" \"}\n                not active <br />\n                <input\n                  type=\"radio\"\n                  value=\"active\"\n                  name={id}\n                  checked={active}\n                  onChange={this.onChangeValue}\n                />{\" \"}\n                active <br />\n                <br />\n              </form>\n            </div>\n          );\n        }\n\n      return (\n        <div className=\"allEmployeesList-letterCard\">\n          <h3>{character}</h3>\n          <div className=\"allEmployeesList-letterCard-employeesList\">\n            {filteredEmployeesList}\n          </div>\n        </div>\n      );\n    });\n\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // Sorting active employees by lastname and filtering by month of birth\n    const activeEmployees = dataMonth\n      .sort((a, b) => {\n        var lastnameA = a.lastName.toLowerCase(),\n          lastnameB = b.lastName.toLowerCase();\n\n        if (lastnameA < lastnameB) return -1;\n\n        if (lastnameA > lastnameB) return 1;\n\n        return 0;\n      })\n      .filter((employee) => employee.active === true);\n\n    // Making collection of monthes with filteredActiveEmployees\n    const monthElements = [];\n\n    for (let month of monthNames) {\n      var filteredActiveEmployees = activeEmployees.filter((employee) => {\n        return (\n          month ===\n          new Date(Date.parse(employee.dob)).toLocaleDateString(\"us-US\", {\n            month: \"long\",\n          })\n        );\n      });\n\n      if (filteredActiveEmployees.length === 0)\n        filteredActiveEmployees = \"No Employees\";\n\n      monthElements.push({\n        month,\n        filteredActiveEmployees,\n      });\n    }\n\n    // Making html of elements\n    let activeEmployeesList = [];\n\n    if (\n      monthElements.filter(\n        (element) => element.filteredActiveEmployees === \"No Employees\"\n      ).length === monthElements.length\n    )\n      activeEmployeesList = (\n        <>\n          <h4 className=\"attention-color\">Employees List is empty</h4>\n        </>\n      );\n    else\n      activeEmployeesList = monthElements.map((item) => {\n        const { month, filteredActiveEmployees } = item;\n\n        const filteredEmployeesList = [];\n\n        if (filteredActiveEmployees === \"No Employees\")\n          filteredEmployeesList.push(\n            <>\n              <h4 className=\"attention-color\">No Employees</h4>\n            </>\n          );\n        else\n          for (let filteredEmployee of filteredActiveEmployees) {\n            const { firstName, lastName, dob, id } = filteredEmployee;\n            const date = new Date(Date.parse(dob));\n\n            const year = date.toLocaleDateString(lang, { year: \"numeric\" });\n            const month = date.toLocaleDateString(lang, { month: \"long\" });\n            const day = date.toLocaleDateString(lang, { day: \"2-digit\" });\n\n            filteredEmployeesList.push(\n              <li className=\"activeEmployeesList-monthCard-employeesList-item\"\n                key={`month-{id}`}>\n                {`${firstName} ${lastName} - ${day} ${month}, ${year} year`}\n              </li>\n            );\n          }\n\n        return (\n          <div className=\"activeEmployeesList-monthCard\">\n            <h3>{month}</h3>\n            <div className=\"activeEmployeesList-monthCard-employeesList\">\n              <ul>{filteredEmployeesList}</ul>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <div className=\"employeesBlock\">\n        <h1>Employees page</h1>\n        <h2>#version 19</h2>\n\n        <hr />\n        \n        {/* {employees[0].firstName} */}\n        {/* {JSON.stringify(employees)} */}\n        {JSON.stringify(activeEmployees)}\n\n        <hr />\n\n        {/* {monthElements.forEach(item => JSON.stringify(item))} */}\n        {JSON.stringify(monthElements.map(item => item.filteredActiveEmployees))}\n\n        <hr />\n\n        <div className=\"allEmployeesList\">\n          <h2>Employees</h2>\n          <div className=\"letterCards-wrapper\">\n            {employeesList}\n          </div>\n        </div>\n\n        <div className=\"activeEmployeesList\">\n          <h2>Employees birthday</h2>\n          <div className=\"monthCard-wrapper\">\n            {activeEmployeesList}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import Employees from './employees';\nexport default Employees;","import App from './app';\nexport default App;","import React, {Component} from 'react';\n\nimport  './error-page.sass'\n\nexport default class Main extends Component {\n    render() {\n        const {error, description} = this.props;\n\n        return (\n            <>\n                <h1>{error}</h1>\n                <hr/>\n                <p>{description}</p>\n            </>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Switch, useHistory, Redirect} from 'react-router-dom';\n\n\nimport Main from '../main';\nimport Employees from '../employees';\nimport ErrorPage from '../error-page';\n\n\nimport  './app.sass'\n\n\n\nexport default class App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n    }\n\n    render() {\n        return (\n            <Router>\n                {/* <h1>Logo</h1> */}\n                <div className=\"wrapper\">\n                    <main>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <Redirect to=\"/employees\"/>\n                                {/* <Main/> */}\n                            </Route>\n\n                            <Route exact path=\"/employees\">\n                                <Employees/>\n                            </Route>\n\n                            <Route path=\"*\">\n                                <Employees/>\n                                {/* <ErrorPage\n                                    error='Attention! An error was detected'\n                                    description='No page was found on the site at this address, or you do not have access to view information at this address.'\n                                /> */}\n                            </Route>\n                        </Switch>\n                    </main>\n                </div>\n            </Router>\n        );\n    }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router, Route, Switch, useHistory} from 'react-router-dom';\nimport App from './components/app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}